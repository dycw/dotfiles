- defaults:
    link:
      relink: true

- clean:
    - "~"

- create:
    - ~/.config
    - ~/.config/direnv
    - ~/.config/pip
    - ~/.ipython/profile_default
    - ~/.ipython/profile_default/startup

- link:
    /Users/derekwan/Library/Application Support/nushell/config.nu: nushell/config.nu
    /Users/derekwan/Library/Application Support/nushell/env.nu: nushell/env.nu
    ~/.config/direnv/direnvrc: direnv/direnvrc
    ~/.config/nvim: lazyvim
    ~/.config/pip/pip.conf: pip/pip.conf
    ~/.config/starship.toml: starship/starship.toml
    ~/.gitconfig: git/config
    ~/.ipython/profile_default/ipython_config.py: ipython/ipython_config.py
    ~/.ipython/profile_default/startup/startup.py: ipython/startup.py
    ~/.wezterm.lua: wezterm/wezterm.lua
    ~/.zimrc: zsh/zimrc
    ~/.zprofile: zsh/zprofile
    ~/.zshenv: zsh/zshenv
    ~/.zshrc: zsh/zshrc

- shell:
    - [
        '[ "$(scutil --get ComputerName)" = DW-Mac ] || sudo scutil --set ComputerName DW-Mac',
        Configuring computer name,
      ]
    - [
        '[ "$(scutil --get HostName)" = DW-Mac ] || sudo scutil --set HostName DW-Mac',
        Configuring host name,
      ]
    - [
        '[ "$(scutil --get LocalHostName)" = DW-Mac ] || sudo scutil --set LocalHostName DW-Mac',
        Configuring local host name,
      ]
    - [git submodule update --init --recursive, Installing submodules]
    - [brew install bat, Installing bat]
    - [brew install bottom, Installing bottom]
    - [brew install cmake, Installing cmake] # for qdldl
    - [brew install direnv, Installing direnv]
    - [brew install dust, Installing dust]
    - [brew install eza, Installing eza]
    - [brew install fd, Installing fd]
    - [brew install ffmpeg, Installing ffmpeg]
    - [brew install fzf, Installing fzf]
    - [
        $(brew --prefix)/opt/fzf/install --xdg --key-bindings --completion --no-update-rc --no-fish,
        Configuring fzf,
      ]
    - [brew install gh, Installing gh]
    - [brew install git-delta, Installing delta]
    - [brew install just, Installing just]
    - [brew install neovim, Installing neovim]
    - [brew install node@20, Installing node@20]
    - [brew install nushell, Installing nushell]
    - [brew install pipx, Installing pipx]
    - [brew install postgresql, Installing postgresql]
    - [brew install pre-commit, Installing pre-commit]
    - [brew install prettier, Installing prettier]
    - [brew install restic, Installing restic]
    - [brew install ripgrep, Installing ripgrep]
    - [brew install ruff, Installing ruff]
    - [brew install shellcheck, Installing shellcheck]
    - [brew install shfmt, Installing shfmt]
    - [brew install starship, Installing starship]
    - [brew install uv, Installing uv]
    - [brew install watch, Installing watch]
    - [brew install watchexec, Installing watchexec]
    - [brew install yoannfleurydev/gitweb/gitweb, Installing gitweb]
    - [brew install zoxide, Installing zoxide]
    - [brew install zsh-vi-mode, Installing zsh-vi-mode]
    - [brew install --cask 1password, Installing 1Password]
    - [brew install --cask dropbox, Installing Dropbox]
    - [brew install --cask protonvpn, Installing ProtonVPN]
    - [brew install --cask wezterm, Installing WezTerm]
    - [brew install --cask whatsapp, Installing WhatsApp]
    - [brew services start postgresql, Configuring postgresql]
    - [pipx install bump2version, Installing bump2version]
    - [
        "[ -d ${HOME}/.cargo ] || curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh",
        Installing rust,
      ]
